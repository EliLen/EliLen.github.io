<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Mimikatz神器]]></title>
    <url>%2F2019%2F05%2F15%2Fmimikatz%2F</url>
    <content type="text"><![CDATA[windows密码抓取神器 win密码抓取方法一： 运行主程序：mimikatz.exe 输入：privilege::debug 提升权限 输入：inject::process lsass.exe sekurlsa.dll 将sekurlsa.dll 注入到lsass.exe 中（运行到这一步会出现拒绝访问的提示） 输入：@getLogonPasswords 即可获取hash和当前用户的明文密码！ 原理就是登陆的时候输入的密码，经过 lsass.exe 里的wdigest和tspkg两个模块调用后，它们对之进行加密处理，而没有进行擦除，而且该加密通过特征可以定位，并且按照微软的算法可逆。 只要登陆过，就可以抓出来，它进行枚举的。简单地说，在 Windows 中，当用户登录时，lsass.exe 使用一个可逆的算法，加密过的明文密码，并且把密文保存在内存中，没有清理，然后可以抓出来，还原。 也就是说，开机以后，只要是登陆过的用户，在没重启前（因为重启内存就清零了，这里不包括使用其他方法清理内存），都可以抓出来，注销也是无用的 方法二（直接调用sekurlsa模块） 运行主程序：mimikatz.exe 输入：privilege::debug 提升权限 输入：sekurlsa::logonPasswords full 工具使用cmd执行 mimikatz 常规的操作使用命令 mimikatz # cls –&gt;清屏,类似dos命令cls. mimikatz # exit –&gt;退出mimikatz. mimikatz #version –&gt;查看当前的mimikatz的版本. 随便输入”xxx::”，会提示error,可看到所有模块。 查看列表中模块的具体参数同样可以输入”模块::”来查看，比如:”inject::”,如图： 可以看到模块inject的具体参数有pid,process,service等…… 系统方面的操作使用命令:system mimikatz #system::user –&gt;查看当前登录的系统用户 mimikazt #system::computer –&gt;返回当前的计算机名称 在服务器终端的操作命令: ts ts::sessions –&gt;显示当前的会话 ts::processes –&gt;显示服务器的进程和对应的pid情况等。 系统服务相关的操作使用命令:service service::list –&gt;列出系统的服务 service::remove –&gt;移除系统的服务 service::start stop 服务名称 –&gt;启动或停止服务 系统进程相关操作的使用命令:process process::list –&gt;列出进程 process::suspend 进程名称 –&gt;暂停进程 process::stop 进程名称 –&gt;结束进程 process::modules –&gt;列出系统的核心模块及所在位置 系统权限相关操作使用命令:privilege privilege::list –&gt;列出权限列表 privilege::enable –&gt;激活一个或多个权限 privilege::debug –&gt;提升权限 打开系统文件：nogpo nogpo::cmd –&gt;打开系统的cmd.exe nogpo::regedit –&gt;打开系统的注册表 nogpo::taskmgr –&gt;打开任务管理器 获取系统用户信息：sekurlsa sekurlsa::wdigest –&gt;获取本地用户信息及密码（win2008后无用） sekurlsa::tspkg –&gt;获取tspkg用户信息及密码 sekurlsa::logonPasswords –&gt;获登陆用户信息及密码 系统线程相关操作使用命令:thread 系统句柄相关操作使用命令:handle 加密相关操作使用命令:crypto 注入操作使用命令:inject]]></content>
      <categories>
        <category>Study</category>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>tools</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Apache笔记]]></title>
    <url>%2F2019%2F05%2F02%2FApache%2F</url>
    <content type="text"><![CDATA[Web 站点建立 主机名区分站点 修改dns指定的配置文件 vim /var/named/scitc.zx ——&gt;&gt;&gt; 12 news IN CNAME www​ oa IN CNAME www 创建主配置文件 —conf.d是用户自己的配置文件，可以根据http.conf文件改— cd /etc/httpd/conf.d mkdir www.conf vim www.conf —创建并修改主配置文件— ——&gt;&gt;&gt; 12345678910111213 &lt;VirtualHost *:80&gt; ---注意格式--- ​ ServerName www.scitc.com.cn:80 ---网站的域名---​ DocumentRoot &quot;/web/scitc/www&quot; ---主配置文件指定的目录---​ &lt;/VirtualHost&gt;​ &lt;Directory &quot;/web/scitc/www&quot;&gt; ---主配置文件指定的目录---​ Require all granted​ &lt;/Directory&gt; 创建主配置文件指定的目录 mkdir -p /web/scitc/www (-p 是创建子目录) cd /web/scitc/www echo “This is www” &gt; index.html 设置/web/scitc/www的安全上下文 ls -Z /web/scitc/www —查看安全上下文— semanage fcontext -a -t httpd_sys_content_t “/web(/.*)?” restorecon -vRF /web —重新加载安全上下文— -v显示详细过程 重启Apache服务 systemctl restart httpd.service —353安全上下文有错— Firefox –测试– 端口区分站点 创建主配置文件 —conf.d是用户自己的配置文件，可以根据http.conf文件改— cd /etc/httpd/conf.d mkdir www10080.conf vi www10080.conf ——-&gt;&gt;&gt; 123456789101112131415 Listen 10080​ &lt;VirtualHost *:10080&gt; ---注意格式---​ ServerName www.scitc.com.cn:10080 ---网站的域名---​ DocumentRoot &quot;/web/scitc/www10080&quot; ---主配置文件指定的目录---​ &lt;/VirtualHost&gt;​ &lt;Directory &quot;/web/scitc/www10080&quot;&gt; ---主配置文件指定的目录---​ Require all granted​ &lt;/Directory&gt; 创建指定的新的子目录 mkdir /web/scitc/www10080 写入一个新网页 echo “www10080 www10080 www10080” &gt; index.html 允许端口通过防火墙 firewall-cmd –add-port=10080/tcp –permanent firewall-cmd –reload 修改端口安全上下文 semanage port -l | grep http —查看默认的安全上下文配置— semanage port -a -t http_port_t -p tcp 10080 重新加载Apache服务 systemctl restart httpd.service 测试 curl www.scitc.com.cn:10080 虚拟目录区分站点 创建一个虚拟目录 mkdir /web/scitc/www/123 echo “5555555555” &gt; /web/scitc/www/123/index.html 修改主配置文件 ——-&gt;&gt;&gt;&gt;添加如下几行 12345 &lt;Directory &quot;/web/scitc/www/123&quot;&gt;​ Require all granted​ &lt;/Directory&gt; 所有代码123456789101112131415161718192021222324252627282930313233343536373839404142434445cd /etc/httpd/conf.dlsvim www.confcp www.conf news.confcp www.conf sports.confvim news.conf vim sports.conf mkdir -p /srv/www/wwwcd /srv/wwwmkdir news sportscd wwwecho &quot;wwwwwwwwwwwwwwwwwwww&quot; &gt; index.htmlcd ..cd news/echo &quot;newsssssssssssssssssssss&quot; &gt; index.htmlcd ..cd sports/echo &quot;sportstttttttttttttttt&quot; &gt; index.htmlls -Z /var/www/htmlcdsemanage fcontext -a -t httpd_sys_content_t &apos;/srv(/.*)?&apos;restorecon -vRF /srvsystemctl restart httpd 12345678910111213141516171819202122232425cp news.conf news10080.confvim news10080.conf mkdir /web/scitc/news10080cd /web/scitc/news10080echo &quot;1008010080100801008010080100801008010080&quot; &gt; index.htmlfirewall-cmd --add-port=10080/tcp --permanent firewall-cmd --reload semanage port -l | grep httpsemanage port -a -t http_port_t -p tcp 10080semanage port -l | grep httpcd news10080/ls -Z index.html systemctl restart httpd.service]]></content>
      <categories>
        <category>Study</category>
        <category>Linux学习笔记</category>
      </categories>
      <tags>
        <tag>Linux</tag>
        <tag>学习笔记</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Namp]]></title>
    <url>%2F2019%2F04%2F29%2FNmap%2F</url>
    <content type="text"><![CDATA[简单的namp使用手册 Nmap全面扫描 单个主机 nmap 192.168.10.10 （等同于全开） 多个主机 nmap 192.168.10.11,20,110 nmap 192.168.10.10,172.168.10.11 nmap 192.168.10.1-254 nmap 192.168.10.1/24 (整个子网) 扫描文件里的IP nmap -iL ip.txt 排除IP nmap 192.168.10.1-254 –exclude 192.168.10.5-11 排除文件中的IP nmap 192.168.10.1-254 –exclude exip.txt 随机找几个IP进行扫描 nmap -iR 10 -p22 Nmap -T4 -A -v ip -T4: 指定扫描时使用的时序(1-6，越大越快) -A：使用进攻性方式扫描 -v：显示侦测时的详细信息 Nmap主机发现-sL：只列举IP，不进行主机发现（list scan） -sn：只进行主机发现，不进行端口扫描（探测存活主机）（ping scan） -Pn：跳过主机发现，直接扫描端口（不判断主机是否在线） -sP：仅使用Ping协议（主机数量大） -n：不用DNS解析，加快扫描速度 -R：总是进行DNS解析 –dns-servers &lt;serv1[,serv2],…&gt;: 指定DNS服务器。 –system-dns: 指定使用系统的DNS服务器 –traceroute: 追踪每个路由节点 Nmap端口发现–默认扫描常见的1000个端口– –端口状态– open：开放 Closed：关闭 Filtered：被防火墙屏蔽，无法确定状态 Unfiltered：未被防火墙屏蔽，但仍无法确定状态 Open|fiktered：开放或者是屏蔽 Closed|filtered：关闭或者是屏蔽 主机端口扫描方式： 扫描ARP协议（和目标主机处于同一网段时） nmap -PR 192.168.10.11 扫描TCP协议（对目标主机进行扫描） nmap -sS 192.168.10.11 –半开(TCP SYN)扫描 不建立第三次会话（速度快，更安全）– nmap -sT 192.168.10.11 –全开(TCP Connect())扫描 – nmap -sA 192.168.10.11 –发送TCP的ACK包，可扫是否存活– –利用ACK扫描判断端口是否被过滤。针对ACK探测包，未被过滤的端口（无论打开、关闭）会回复RST包。– nmap -sW 192.168.10.11 TCP –windows扫描– —Window扫描方式只对某些TCPIP协议栈才有效。window扫描原理与ACK类似，发送ACK包探测目标端口，对回复的RST包中的Window size进行解析。在某些TCPIP协议栈实现中，关闭的端口在RST中会将Window size设置为0；而开放的端口将Window size设置成非0的值。— 秘密扫描方式来协助探测对方的TCP端口状态 nmap -sN 192.168.10.11 –TCP Null 扫描– nmap -sF 192.168.10.11 –发送FIN标志的数据包– —可以利用FIN扫描方式探测防火墙状态。FIN扫描方式用于识别端口是否关闭，收到RST回复说明该端口关闭，否则说明是open或filtered状态。— 扫描UDP协议（不常用，费时，不方便） nmap -sU 192.168.10.11 主机端口参数： 快速模式，仅扫描TOP 100的端口(-F：Fast mode) nmap -F 192.168.10.11 全部端口 nmap -p “*” 192.168.10.11 指定端口(可连续) nmap -p20-25,443,3306 192.168.10.11 前n个端口 nmap –top-ports 10 192.168.10.11 扫描指定频率以上的端口 nmap –port-ratio（0-1之间） 192.168.10.11 Nmap高级选项 查看本地路由与接口（网络接口信息）-e &lt;interface&gt; nmap -iflist 指定网口与IP地址 nmap -e eth0 192.168.10.10 扫描路由器TFTP nmap –sU –p69 –nvv target —大多数路由器都支持TFTP协议(简单文件传输协议)，该协议常用于备份和恢复路由器的配置文件，运行在UDP 69端口上。使用上述命令可以探测出路由器是否开放TFTP。— 扫描思科路由器 nmap -p1-25,80,512-515,2001,4001,6001,9001 10.20.0.1/16 —思科路由器会在上述端口中运行了常见的服务。列举出上述端口开放的主机，可以定位到路由器设备可能的IP地址及端口状态。— Nmap OS识别 nmap -O 192.168.10.11 Nmap服务版本识别 nmap -sV 192.168.10.11 Nmap输出 扫描结果保存为XML文件 nmap -oX Report.xml 192.168.10.11 只输出open的端口 nmap –open 192.168.10.11 Nmap脚本扫描Nmap提供的命令行参数：： -sC： 等价–script=default，使用默认类别的脚本进行扫描 –script=&lt;Lua scripts&gt;:&lt;Lua scripts&gt; 使用某个和某类脚本扫描，支持通配符 –script-args=&lt;n1=v1,[n2=v2,..]&gt; 为脚本提供默认参数 –script-args-file=filename 使用文件夹为脚本提供参数 –script-tarce 显示脚本执行过程中发送与接收的数据 –script-updatedb：更新脚本数据库 –script-help=&lt;scripts &gt;显示脚本的帮助信息，其中&lt;scripts&gt;可以用逗号分隔 nmap脚本的分类 在调用nmap脚本之前，我们可以先进入script目录，用tab键自动填充来查看有哪些脚本可用 ls /usr/share/nmap/script/mysql- //双击tab 扫描时根据需要设置 –script=类别 ： auth: 负责处理鉴权证书（绕开鉴权）的脚本 broadcast: 在局域网内探查更多服务开启状况，如dhcp/dns/sqlserver等服务 brute: 提供暴力破解方式，针对常见的应用如http/snmp等 default: 使用-sC或-A选项扫描时候默认的脚本，提供基本脚本扫描能力 discovery: 对网络进行更多的信息，如SMB枚举、SNMP查询等 dos: 用于进行拒绝服务攻击 exploit: 利用已知的漏洞入侵系统 external: 利用第三方的数据库或资源，例如进行whois解析 fuzzer: 模糊测试的脚本，发送异常的包到目标机，探测出潜在漏洞 intrusive: 入侵性的脚本，此类脚本可能引发对方的IDS/IPS的记录或屏蔽 safe: 此类与intrusive相反，属于安全性脚本 malware: 探测目标机是否感染了病毒、开启了后门等信息 version: 负责增强服务与版本扫描（Version Detection）功能的脚本 vuln: 负责检查目标机是否有常见的漏洞（Vulnerability），如是否有MS08_067 0x01 nmap按脚本分类扫描 负责处理鉴权证书（绕开鉴权）的脚本,也可以作为检测部分应用弱口令 nmap –script=auth 192.168.10.10 提供暴力破解的方式，可对数据库，smb，snmp等进行简单的暴力猜解 nmap –script=brute 192.168.10.10 默认脚本扫描，主要收集各种应用服务的信息，收集后，在针对具体服务进行攻击 nmap –script=default 192.168.137. 或者 nmap -sC 192.168.137. 检查是否存在常见漏洞 nmap –script=vuln 192.168.10.10 在局域网探查更多服务开启状况 nmap -n -p445 –script=broadcast 192.168.10.10 利用第三方的数据库或资源，例如进行whois解析 nmap –script=external 202.103.243.110 0x02 nmap按应用服务扫描 （1）vnc扫描 检查vnc bypass nmap –script=realvnc-auth-bypass 192.168.10.10 检查vnc认证方式 nmap –script=vnc-auth 192.168.10.10 获取vnc信息 nmap –script=vnc-info 192.168.10.10 （2）smb扫描 smb破解 nmap –script=smb-brute.nse 192.168.10.10 smb字典破解 nmap –script=smb-brute.nse –script-args=userdb=/var/passwd,passdb=/var/passwd IP 已知几个严重漏洞 nmap –script=smb-check-vulns.nse –script-args=unsafe=1 192.168.10.10 查看共享目录 nmap -p445 –script=smb-ls –script-args=share=e$,path=\,subuser=test,smbpass=test IP 查询主机一些敏感信息（注：需下载nmap_service） nmap -p445 –script=smb-psexec –script-args=smbuser=test,smbpass=test IP 查看会话 nmap -p445 –script=smb-enum-sessions.nse –script-args=smbuser=test,smbpass=test IP 系统信息 nmap -n -p445 –script=smb-os-discovery.nse –script-args=smbuser=test,smbpass=test IP (3)Mssql扫描 猜解mssql用户名和密码 nmap -p1433 –script=ms-sql-brute.nes –script-args=userdb=/var/user,passdb=/var/passwd IP xp_cmdshell执行命令 nmap -p1433 –script=ms-sql-xp-cmdshell.nse –script-args=mssql.username=sa,mssql.password=sa，ms-sql-xp-cmdshell.cmd=”net user” 192.168.10.10 dumphash值 nmap -p1433 –script=ms-sql-dump-hashes.nse –script-srgs=mssql.username=sa,mssql.passwd=sa 192.168.10.10 （4）Mysql扫描 扫描root空口令 nmap -p3306 –script=mysql-empty-password.nse 192.168.10.10 列出所用mysql用户 nmap -p3306 –script=mysql-users.nse –script-args=mysqluser=root 192.168.10.10 支持同一应用的所有脚本扫描 nmap –script=mysql-* 192.168.10.10 （5）Oracle扫描 oracle sid 扫描 nmap -p1521-1560 –script=oracle-sid-brute.nse 192.168.10.10 oracle弱口令破解 nmap -p1521 –script=oracle-burte.nse –script-args=oracle-brute.sid=ORCL,userdb=/var/username,passdb=/var/passwd 192.168.10.10]]></content>
      <categories>
        <category>Study</category>
        <category>Tools</category>
      </categories>
      <tags>
        <tag>kali</tag>
        <tag>tools</tag>
        <tag>nmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Python编码]]></title>
    <url>%2F2019%2F04%2F26%2Fpy-encode%2F</url>
    <content type="text"><![CDATA[python中遇到的编码问题 encode(编码): 按照某种规则将”文本”转换为”字节流”。python3中表示:unicode变成str decode(解码): 按照某种规则将”字节流”转换成”文本”。python3中表示:str变成unicode 123import sysimport osprint("nsbs")]]></content>
      <categories>
        <category>Study</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>python编码</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Blog美化]]></title>
    <url>%2F2019%2F04%2F26%2FBlog%2F</url>
    <content type="text"><![CDATA[美化博客不归路 开始从想搭博客开始，已经过了将近一个月了，直到今天晚上才完成，真的是好心累啊。各种崩盘各种难受，可能是我前端学的太菜了吧，我用了整整六天的时间，来完成这么一个大工程，最开始只是想好好的玩一下，结果。。。。。。。。哎，一言难尽啊，总结两点，第一不要想优化博客，第二请查看第一条。 ….手动哭…. 结束]]></content>
      <categories>
        <category>Life</category>
        <category>daily</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>随笔</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[随笔图]]></title>
    <url>%2F2019%2F04%2F25%2Fimg%2F</url>
    <content type="text"><![CDATA[随笔分享一波图]]></content>
      <categories>
        <category>Life</category>
        <category>img</category>
      </categories>
      <tags>
        <tag>img</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F04%2F18%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
